<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Student Name Confirmation - Orli International Academy</title>
  <link href="https://cdn.jsdelivr.net/npm/tailwindcss@2.2.19/dist/tailwind.min.css" rel="stylesheet">
  <style>
    body {
      font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
    }
  </style>
</head>
<body class="bg-gradient-to-tr from-purple-100 via-white to-purple-50 min-h-screen flex items-center justify-center p-4">

  <div class="max-w-2xl w-full bg-white rounded-3xl shadow-2xl overflow-hidden">
    <!-- Header -->
    <div class="bg-gradient-to-r from-purple-700 to-purple-500 text-white px-6 py-4 flex items-center gap-4">
      <img src="https://www.orliacademy.online/logo.png" alt="School Logo" class="w-12 h-12 rounded-full border border-white shadow">
      <h1 class="text-xl md:text-2xl font-bold">Orli International Academy</h1>
    </div>

    <!-- Content -->
    <div class="px-6 py-8 md:px-10 md:py-10">
      <h2 class="text-xl md:text-2xl font-semibold text-purple-700 mb-4">Confirmation of Student Name</h2>
      <p class="text-gray-700 mb-6 leading-relaxed text-justify">
        Dear Parents,<br><br>
        We kindly ask that you confirm how you would like your child’s name to appear on their final documents.<br><br>
        Kindly send your confirmation on or before <strong>Friday, 11th July 2025</strong> to enable us proceed accordingly and avoid the need for corrections.<br><br>
        Thank you for your continued support and cooperation.<br><br>
        <span class="block font-semibold">Warm regards,</span>
        <span class="text-gray-800">Admin</span>
      </p>

      <!-- Success Message -->
      <div id="successMessage" class="hidden bg-green-100 text-green-800 p-4 rounded-lg shadow mb-6">
        ✅ Thank you! Your confirmation has been submitted successfully.
      </div>

      <!-- Form -->
      <form onsubmit="handleSubmit(event)" class="space-y-6" id="confirmationForm">
        <div>
          <label class="block text-sm font-medium text-gray-700 mb-1">Parent's Full Name</label>
          <input id="parentName" type="text" required
            class="w-full px-4 py-2 border border-gray-300 rounded-lg shadow-sm focus:ring-2 focus:ring-purple-500 focus:outline-none transition"
            placeholder="e.g. Mrs. Jane Doe">
        </div>

        <div>
          <label class="block text-sm font-medium text-gray-700 mb-1">Learner's Full Name (as you want it to appear)</label>
          <input id="studentName" type="text" required
            class="w-full px-4 py-2 border border-gray-300 rounded-lg shadow-sm focus:ring-2 focus:ring-purple-500 focus:outline-none transition"
            placeholder="e.g. John Michael Doe">
        </div>

        <button type="submit"
          class="w-full bg-purple-700 hover:bg-purple-800 text-white py-3 rounded-lg font-semibold shadow-md transition">
          Submit Confirmation
        </button>
      </form>
    </div>
  </div>

  <!-- Firebase v8 SDKs -->
  <script src="https://www.gstatic.com/firebasejs/8.10.1/firebase-app.js"></script>
  <script src="https://www.gstatic.com/firebasejs/8.10.1/firebase-firestore.js"></script>

  <script>
    const firebaseConfig = {
      apiKey: "AIzaSyAFsHg9fK6IDnHbuxmBleEfIIfVGsuLDik",
      authDomain: "profile-b825d.firebaseapp.com",
      projectId: "profile-b825d",
      storageBucket: "profile-b825d.firebasestorage.app",
      messagingSenderId: "925276859161",
      appId: "1:925276859161:web:194c60f6dbd9f1ef8bf388"
    };

    firebase.initializeApp(firebaseConfig);
    const db = firebase.firestore();

    function handleSubmit(event) {
      event.preventDefault();

      const parent = document.getElementById("parentName").value.trim();
      const student = document.getElementById("studentName").value.trim();
      const form = document.getElementById("confirmationForm");
      const message = document.getElementById("successMessage");

      db.collection("nameConfirmations").add({
        parentName: parent,
        studentName: student,
        timestamp: firebase.firestore.FieldValue.serverTimestamp()
      }).then(() => {
        form.reset();
        message.classList.remove("hidden");
        setTimeout(() => message.classList.add("hidden"), 8000); // hide after 8 seconds
      }).catch((error) => {
        alert("Submission failed: " + error.message);
      });
    }
  </script>
</body>
</html>
